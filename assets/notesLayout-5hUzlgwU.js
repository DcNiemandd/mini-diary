import{c as T,r as D,j as s,D as U,A as H}from"./index-BoZJR9_D.js";const O="_sliders_df7e430",F={sliders:O},w="0.2",L="20",I=e=>{const t=T.c(11),{customColor:m,setCustomColor:o,disabled:l}=e,u=D.useRef(null),p=D.useRef(null);let n;t[0]!==o?(n=()=>{const f=u.current?.value??w,y=p.current?.value??L;o(`oklch(0 ${f} ${y})`)},t[0]=o,t[1]=n):n=t[1];const r=n;let c;t[2]!==m?(c=m?m.match(/oklch\(0 (\d*\.?\d*) (\d*\.?\d*)\)/)?.slice(1)??[w,L]:[w,L],t[2]=m,t[3]=c):c=t[3];const[i,h]=c;let d;t[4]!==r||t[5]!==i||t[6]!==l||t[7]!==h?(d=!l&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{className:"slider-label",children:[s.jsx("span",{children:"Neutral"}),s.jsx("input",{ref:u,type:"range",id:"chroma-slider",min:"0",max:".2",step:"0.01",value:i,className:"slider",onChange:r,disabled:l}),s.jsx("span",{children:"Vivid"})]}),s.jsxs("label",{className:"slider-label",children:[s.jsx("span",{children:"Warmer"}),s.jsx("input",{ref:p,type:"range",id:"hue-slider",min:"20",max:"340",value:h,className:"slider",onChange:r,disabled:l}),s.jsx("span",{children:"Cooler"})]})]}),t[4]=r,t[5]=i,t[6]=l,t[7]=h,t[8]=d):d=t[8];let a;return t[9]!==d?(a=s.jsx("div",{className:F.sliders,children:d}),t[9]=d,t[10]=a):a=t[10],a},P="_daily-note_7e42250",G="_readonly_9d97075",A={"daily-note":P,readonly:G},B=e=>{const t=T.c(22),{date:m,note:o,onChange:l,daysInRow:u}=e,p=`${A["daily-note"]} ${l?"":A.readonly}`;let n;t[0]!==m?(n=m.toLocaleString(U.DATE_FULL),t[0]=m,t[1]=n):n=t[1];let r;t[2]!==n?(r=s.jsx("span",{className:"date-label",children:n}),t[2]=n,t[3]=r):r=t[3];let c;t[4]!==u?(c=s.jsx("div",{className:"days-in-row",children:u}),t[4]=u,t[5]=c):c=t[5];let i;t[6]!==r||t[7]!==c?(i=s.jsxs("div",{className:"top-bar",children:[r,c]}),t[6]=r,t[7]=c,t[8]=i):i=t[8];let h;t[9]!==l?(h=j=>l?.(j.target.value),t[9]=l,t[10]=h):h=t[10];const d=!l;let a;t[11]!==o||t[12]!==h||t[13]!==d?(a=s.jsx("textarea",{className:"note-content",value:o,onChange:h,readOnly:d}),t[11]=o,t[12]=h,t[13]=d,t[14]=a):a=t[14];let f;t[15]!==o||t[16]!==a?(f=s.jsx("div",{className:"note-grow","data-replicated-value":o,children:a}),t[15]=o,t[16]=a,t[17]=f):f=t[17];let y;return t[18]!==p||t[19]!==i||t[20]!==f?(y=s.jsxs("div",{className:p,children:[i,f]}),t[18]=p,t[19]=i,t[20]=f,t[21]=y):y=t[21],y},M=e=>{const t=T.c(8),{colorScheme:m,setColorScheme:o}=e;let l;t[0]!==o?(l=c=>{o(c.target.value)},t[0]=o,t[1]=l):l=t[1];let u,p,n;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("option",{value:"light",children:"Light"}),p=s.jsx("option",{value:"dark",children:"Dark"}),n=s.jsx("option",{value:"system",children:"System"}),t[2]=u,t[3]=p,t[4]=n):(u=t[2],p=t[3],n=t[4]);let r;return t[5]!==m||t[6]!==l?(r=s.jsxs("select",{onChange:l,value:m,children:[u,p,n]}),t[5]=m,t[6]=l,t[7]=r):r=t[7],r},V="_container_5f4b997",W="_top-bar_41c57db",q="_scroll-bottom-button_75487f1",z="_content_f49c0fe",J="_color-samples_d0288b6",$={container:V,"top-bar":W,"scroll-bottom-button":q,content:z,"color-samples":J},Y=()=>{const e=T.c(46),{settings:t,auth:m,entries:o}=D.useContext(H),l=D.useRef(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{l.current&&l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},e[0]=u):u=e[0];const p=u;let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("button",{id:"settings-popover-button",popoverTarget:"settings-popover",children:"Settings"}),e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={top:"anchor(bottom)",left:"anchor(left)"},e[2]=r):r=e[2];let c;e[3]!==t?(c=x=>t.setColorScheme(x),e[3]=t,e[4]=c):c=e[4];let i;e[5]!==t.colorScheme||e[6]!==c?(i=s.jsx(M,{colorScheme:t.colorScheme,setColorScheme:c}),e[5]=t.colorScheme,e[6]=c,e[7]=i):i=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("br",{}),e[8]=h):h=e[8];let d;e[9]!==t?(d=x=>t.setUseCustomColor(x.currentTarget.checked),e[9]=t,e[10]=d):d=e[10];let a;e[11]!==t.useCustomColor||e[12]!==d?(a=s.jsxs("label",{children:["Use custom color",s.jsx("input",{type:"checkbox",checked:t.useCustomColor,onChange:d})]}),e[11]=t.useCustomColor,e[12]=d,e[13]=a):a=e[13];let f;e[14]!==t?(f=x=>t.setCustomColor(x),e[14]=t,e[15]=f):f=e[15];const y=!t.useCustomColor;let j;e[16]!==t.customColor||e[17]!==f||e[18]!==y?(j=s.jsx(I,{customColor:t.customColor,setCustomColor:f,disabled:y}),e[16]=t.customColor,e[17]=f,e[18]=y,e[19]=j):j=e[19];let C;e[20]!==j||e[21]!==i||e[22]!==a?(C=s.jsxs("div",{ref:K,popover:"auto",id:"settings-popover",style:r,children:[i,h,a,j]}),e[20]=j,e[21]=i,e[22]=a,e[23]=C):C=e[23];let E,k;e[24]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("button",{onClick:x=>{x.preventDefault(),p()},className:$["scroll-bottom-button"],children:"Bottom"}),k=s.jsx("div",{style:{flexGrow:1}}),e[24]=E,e[25]=k):(E=e[24],k=e[25]);let b;e[26]!==m||e[27]!==o.isSaved?(b=s.jsx("button",{onClick:x=>{x.preventDefault(),o.isSaved?m.logout():alert("Please wait until your changes are saved before logging out.")},children:"Log out"}),e[26]=m,e[27]=o.isSaved,e[28]=b):b=e[28];let v;e[29]!==C||e[30]!==b?(v=s.jsxs("div",{className:$["top-bar"],children:[n,C,E,k,b]}),e[29]=C,e[30]=b,e[31]=v):v=e[31];let _;e[32]!==o.entries?(_=o.entries?.map(Q),e[32]=o.entries,e[33]=_):_=e[33];let g;e[34]!==o?(g=x=>o.updateTodaysEntry({content:x,date:o.todaysEntry.date}),e[34]=o,e[35]=g):g=e[35];let S;e[36]!==o.todaysEntry.content||e[37]!==o.todaysEntry.date||e[38]!==g?(S=s.jsx(B,{note:o.todaysEntry.content,date:o.todaysEntry.date,onChange:g},"today-entry"),e[36]=o.todaysEntry.content,e[37]=o.todaysEntry.date,e[38]=g,e[39]=S):S=e[39];let N;e[40]!==_||e[41]!==S?(N=s.jsx("div",{className:$.content,children:s.jsx("div",{ref:l,children:s.jsxs("div",{children:[_,S]})})}),e[40]=_,e[41]=S,e[42]=N):N=e[42];let R;return e[43]!==v||e[44]!==N?(R=s.jsxs("div",{className:$.container,children:[v,N]}),e[43]=v,e[44]=N,e[45]=R):R=e[45],R};function K(e){e?.setAttribute("anchor","settings-popover-button")}function Q(e){return s.jsx(B,{note:e.content,date:e.date},e.date.toISODate())}export{Y as NotesLayout};
